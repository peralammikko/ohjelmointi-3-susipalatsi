<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Susipalatsi: GameScene Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Susipalatsi
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_game_scene-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GameScene Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for GameScene:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene__inherit__graph.png" border="0" usemap="#_game_scene_inherit__map" alt="Inheritance graph"/></div>
<map name="_game_scene_inherit__map" id="_game_scene_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for GameScene:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene__coll__graph.png" border="0" usemap="#_game_scene_coll__map" alt="Collaboration graph"/></div>
<map name="_game_scene_coll__map" id="_game_scene_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:aa9cca2fe921183eca8d44d7d57cd2c11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#aa9cca2fe921183eca8d44d7d57cd2c11">onActionDeclared</a> (std::shared_ptr&lt; Interface::ActionInterface &gt; action, <a class="el" href="classmap_item.html">mapItem</a> *declaringMapItem, bool resetting)</td></tr>
<tr class="memdesc:aa9cca2fe921183eca8d44d7d57cd2c11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recieved when a <a class="el" href="classmap_item.html">mapItem</a> (Agent or a <a class="el" href="class_card_item.html">CardItem</a>) is dragged and dropped and the item has recognized a valid action.  <a href="#aa9cca2fe921183eca8d44d7d57cd2c11">More...</a><br/></td></tr>
<tr class="separator:aa9cca2fe921183eca8d44d7d57cd2c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0001cdbbd1652668fff2d88c44f6d98f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0001cdbbd1652668fff2d88c44f6d98f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onEnteringNextRound</b> ()</td></tr>
<tr class="separator:a0001cdbbd1652668fff2d88c44f6d98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a94f992c47762987c54c8dc17c142d6cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a94f992c47762987c54c8dc17c142d6cf">actionDeclared</a> (std::shared_ptr&lt; Interface::ActionInterface &gt; action)</td></tr>
<tr class="memdesc:a94f992c47762987c54c8dc17c142d6cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when an Agent has declared an action (eg. User has dragged it from hand to a planet) AND paid for the aciton card.  <a href="#a94f992c47762987c54c8dc17c142d6cf">More...</a><br/></td></tr>
<tr class="separator:a94f992c47762987c54c8dc17c142d6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a963c269703f813ed748497a6e5a7fc4f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a963c269703f813ed748497a6e5a7fc4f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>GameScene</b> (QWidget *parent, std::weak_ptr&lt; Interface::Game &gt; game)</td></tr>
<tr class="separator:a963c269703f813ed748497a6e5a7fc4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a26801a9db12c1684df5fd106b5b19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a40a26801a9db12c1684df5fd106b5b19">drawAgents</a> (std::vector&lt; <a class="el" href="classagent_item.html">agentItem</a> * &gt; &amp;agents)</td></tr>
<tr class="memdesc:a40a26801a9db12c1684df5fd106b5b19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes agents visible and places them in a hand-like deployment zone.  <a href="#a40a26801a9db12c1684df5fd106b5b19">More...</a><br/></td></tr>
<tr class="separator:a40a26801a9db12c1684df5fd106b5b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae634b53a8a148208b804b7e16d16c2b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#ae634b53a8a148208b804b7e16d16c2b6">drawLocations</a> (std::vector&lt; std::pair&lt; std::shared_ptr&lt; Interface::Location &gt;, std::vector&lt; std::pair&lt; QString, QString &gt;&gt;&gt;&gt; locationInformation)</td></tr>
<tr class="memdesc:ae634b53a8a148208b804b7e16d16c2b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws game's locations to scene and initializes them as <a class="el" href="class_location_item.html">LocationItem</a> objects.  <a href="#ae634b53a8a148208b804b7e16d16c2b6">More...</a><br/></td></tr>
<tr class="separator:ae634b53a8a148208b804b7e16d16c2b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21620dbdbc47b5ff57dfb4ee8c96d857"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a21620dbdbc47b5ff57dfb4ee8c96d857">initHands</a> (std::shared_ptr&lt; const Interface::Player &gt; Player)</td></tr>
<tr class="memdesc:a21620dbdbc47b5ff57dfb4ee8c96d857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a hand area for player to hold cards &amp; agents.  <a href="#a21620dbdbc47b5ff57dfb4ee8c96d857">More...</a><br/></td></tr>
<tr class="separator:a21620dbdbc47b5ff57dfb4ee8c96d857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c9687d7d9d4ca8a9b3c21eea841393"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a05c9687d7d9d4ca8a9b3c21eea841393">addActionCardForPlayer</a> (std::shared_ptr&lt; const Interface::Player &gt; player, std::shared_ptr&lt; <a class="el" href="class_interface_1_1_action_card.html">Interface::ActionCard</a> &gt; card)</td></tr>
<tr class="memdesc:a05c9687d7d9d4ca8a9b3c21eea841393"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an action card to players hand.  <a href="#a05c9687d7d9d4ca8a9b3c21eea841393">More...</a><br/></td></tr>
<tr class="separator:a05c9687d7d9d4ca8a9b3c21eea841393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf15f36605b407bb9b8e03fa8e9bb90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#aecf15f36605b407bb9b8e03fa8e9bb90">turnInfo</a> (std::shared_ptr&lt; Interface::Player &gt; &amp;currentplayer)</td></tr>
<tr class="memdesc:aecf15f36605b407bb9b8e03fa8e9bb90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives information about turns.  <a href="#aecf15f36605b407bb9b8e03fa8e9bb90">More...</a><br/></td></tr>
<tr class="separator:aecf15f36605b407bb9b8e03fa8e9bb90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0a26f1f1cff77e2a1241f86c188d2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a0a0a26f1f1cff77e2a1241f86c188d2b">resourceInfo</a> (ResourceMap &amp;rmap, ResourceMap &amp;dmap)</td></tr>
<tr class="memdesc:a0a0a26f1f1cff77e2a1241f86c188d2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives information about resources in each location.  <a href="#a0a0a26f1f1cff77e2a1241f86c188d2b">More...</a><br/></td></tr>
<tr class="separator:a0a0a26f1f1cff77e2a1241f86c188d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265e6279eb81aa208cfdcbe5d88a54d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a265e6279eb81aa208cfdcbe5d88a54d3">initPlayerHandFor</a> (std::shared_ptr&lt; Interface::Player &gt; player)</td></tr>
<tr class="memdesc:a265e6279eb81aa208cfdcbe5d88a54d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes player hand for a player.  <a href="#a265e6279eb81aa208cfdcbe5d88a54d3">More...</a><br/></td></tr>
<tr class="separator:a265e6279eb81aa208cfdcbe5d88a54d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aca0638d635fbc852852a143e0f4065"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::shared_ptr<br class="typebreak"/>
&lt; const Interface::Player &gt;<br class="typebreak"/>
, <a class="el" href="class_player_hand.html">PlayerHand</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a8aca0638d635fbc852852a143e0f4065">playerHands</a> ()</td></tr>
<tr class="memdesc:a8aca0638d635fbc852852a143e0f4065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all players' hands.  <a href="#a8aca0638d635fbc852852a143e0f4065">More...</a><br/></td></tr>
<tr class="separator:a8aca0638d635fbc852852a143e0f4065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff91a4c8ac929067c540765db170bd36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#aff91a4c8ac929067c540765db170bd36">prepareForAction</a> (std::shared_ptr&lt; Interface::ActionInterface &gt; action, <a class="el" href="classmap_item.html">mapItem</a> *declaringMapItem)</td></tr>
<tr class="memdesc:aff91a4c8ac929067c540765db170bd36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the declaring mapitem in a visible place, and draw arrows from its original position to its targeted mapitem The game will start waiting for the manual player to use an action card. Also sets up few mapitem variables which allow us to reset this ready-state.  <a href="#aff91a4c8ac929067c540765db170bd36">More...</a><br/></td></tr>
<tr class="separator:aff91a4c8ac929067c540765db170bd36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d471f7b7e1eed4e39182dcd4a1f6ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a68d471f7b7e1eed4e39182dcd4a1f6ab">resetAction</a> ()</td></tr>
<tr class="memdesc:a68d471f7b7e1eed4e39182dcd4a1f6ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">A declared action is forgotten and declaring MapItem is returned back to its home position.  <a href="#a68d471f7b7e1eed4e39182dcd4a1f6ab">More...</a><br/></td></tr>
<tr class="separator:a68d471f7b7e1eed4e39182dcd4a1f6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be65ea748b373b7c1300240b06764ae"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_location_item.html">LocationItem</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a5be65ea748b373b7c1300240b06764ae">GetLocItems</a> ()</td></tr>
<tr class="memdesc:a5be65ea748b373b7c1300240b06764ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns every location item on the scene.  <a href="#a5be65ea748b373b7c1300240b06764ae">More...</a><br/></td></tr>
<tr class="separator:a5be65ea748b373b7c1300240b06764ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c75de62e9b64bafac9a587375a6ac4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a6c75de62e9b64bafac9a587375a6ac4f">onPlayerChanged</a> (std::shared_ptr&lt; const Interface::Player &gt; actingPlayer)</td></tr>
<tr class="memdesc:a6c75de62e9b64bafac9a587375a6ac4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the player has been changed, makes every item that does not belong to the player undraggable. Signaled by Game class.  <a href="#a6c75de62e9b64bafac9a587375a6ac4f">More...</a><br/></td></tr>
<tr class="separator:a6c75de62e9b64bafac9a587375a6ac4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e564b0b6e6eb7f755aa9b869a80ad0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2e564b0b6e6eb7f755aa9b869a80ad0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#ab2e564b0b6e6eb7f755aa9b869a80ad0">nextRound</a> ()</td></tr>
<tr class="memdesc:ab2e564b0b6e6eb7f755aa9b869a80ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuffles game's locations around in what's called the Event phase. <br/></td></tr>
<tr class="separator:ab2e564b0b6e6eb7f755aa9b869a80ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da045e05df93c42ccd861f1b57f72ef"><td class="memItemLeft" align="right" valign="top">ResourceMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a3da045e05df93c42ccd861f1b57f72ef">getResMap</a> ()</td></tr>
<tr class="memdesc:a3da045e05df93c42ccd861f1b57f72ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the games resource (collectible) resources per location.  <a href="#a3da045e05df93c42ccd861f1b57f72ef">More...</a><br/></td></tr>
<tr class="separator:a3da045e05df93c42ccd861f1b57f72ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837bf75aae00e5eeeddfd22e3c36b133"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classagent_item.html">agentItem</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_game_scene.html#a837bf75aae00e5eeeddfd22e3c36b133">getAgentItemsForPlayer</a> (std::shared_ptr&lt; Interface::Player &gt; player)</td></tr>
<tr class="memdesc:a837bf75aae00e5eeeddfd22e3c36b133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns vector of map items which belong to the player. AI needs this.  <a href="#a837bf75aae00e5eeeddfd22e3c36b133">More...</a><br/></td></tr>
<tr class="separator:a837bf75aae00e5eeeddfd22e3c36b133"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a94f992c47762987c54c8dc17c142d6cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::actionDeclared </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; Interface::ActionInterface &gt;&#160;</td>
          <td class="paramname"><em>action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when an Agent has declared an action (eg. User has dragged it from hand to a planet) AND paid for the aciton card. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a05c9687d7d9d4ca8a9b3c21eea841393"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::addActionCardForPlayer </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; const Interface::Player &gt;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="class_interface_1_1_action_card.html">Interface::ActionCard</a> &gt;&#160;</td>
          <td class="paramname"><em>card</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an action card to players hand. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player,:</td><td>Player in question </td></tr>
    <tr><td class="paramname">card,:</td><td>Action card to be added </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Action card is properly initialized and drawn </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Player gets a new action card in his hand </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene_a05c9687d7d9d4ca8a9b3c21eea841393_cgraph.png" border="0" usemap="#class_game_scene_a05c9687d7d9d4ca8a9b3c21eea841393_cgraph" alt=""/></div>
<map name="class_game_scene_a05c9687d7d9d4ca8a9b3c21eea841393_cgraph" id="class_game_scene_a05c9687d7d9d4ca8a9b3c21eea841393_cgraph">
<area shape="rect" id="node2" href="class_game_scene.html#aa9cca2fe921183eca8d44d7d57cd2c11" title="Recieved when a mapItem (Agent or a CardItem) is dragged and dropped and the item has recognized a va..." alt="" coords="257,56,479,83"/><area shape="rect" id="node3" href="classmap_item.html#ac34ad651be6151f9ca9cc6310d1f6462" title="returns the type of MapItem as a string. Can be at least a location, agent or an actionCard. " alt="" coords="533,5,667,32"/><area shape="rect" id="node4" href="class_card_item.html#a25b9a7fc1a81e13fbe8555e2195d305b" title="getCard " alt="" coords="529,56,671,83"/><area shape="rect" id="node5" href="classmap_item.html#a4186737ffce9680d0ba0bc0130533f26" title="mapitem is moved to homeCoordinatesOnScene_ in time milliseconds " alt="" coords="528,107,672,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a40a26801a9db12c1684df5fd106b5b19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::drawAgents </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classagent_item.html">agentItem</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>agents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes agents visible and places them in a hand-like deployment zone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agents,:</td><td>Drawable AgentItem objects for each player </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Agents have been properly initialized and distributed </dd></dl>

</div>
</div>
<a class="anchor" id="ae634b53a8a148208b804b7e16d16c2b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::drawLocations </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::shared_ptr&lt; Interface::Location &gt;, std::vector&lt; std::pair&lt; QString, QString &gt;&gt;&gt;&gt;&#160;</td>
          <td class="paramname"><em>locationInformation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws game's locations to scene and initializes them as <a class="el" href="class_location_item.html">LocationItem</a> objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">locationInformation,:</td><td>vector of Locations and their relative information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Vector contains Locations and their information </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>All locations are displayed on screen as <a class="el" href="class_location_item.html">LocationItem</a> objects </dd></dl>

</div>
</div>
<a class="anchor" id="a837bf75aae00e5eeeddfd22e3c36b133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classagent_item.html">agentItem</a> * &gt; GameScene::getAgentItemsForPlayer </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; Interface::Player &gt;&#160;</td>
          <td class="paramname"><em>player</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns vector of map items which belong to the player. AI needs this. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player,:</td><td>Player in question </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector of agents owned by player </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Player owns agents </dd></dl>

</div>
</div>
<a class="anchor" id="a5be65ea748b373b7c1300240b06764ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_location_item.html">LocationItem</a> * &gt; GameScene::GetLocItems </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns every location item on the scene. </p>
<dl class="section return"><dt>Returns</dt><dd>Vector of <a class="el" href="class_location_item.html">LocationItem</a> pointers </dd></dl>

</div>
</div>
<a class="anchor" id="a3da045e05df93c42ccd861f1b57f72ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ResourceMap GameScene::getResMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the games resource (collectible) resources per location. </p>
<dl class="section return"><dt>Returns</dt><dd>Map of locations and their local resources </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene_a3da045e05df93c42ccd861f1b57f72ef_icgraph.png" border="0" usemap="#class_game_scene_a3da045e05df93c42ccd861f1b57f72ef_icgraph" alt=""/></div>
<map name="class_game_scene_a3da045e05df93c42ccd861f1b57f72ef_icgraph" id="class_game_scene_a3da045e05df93c42ccd861f1b57f72ef_icgraph">
<area shape="rect" id="node2" href="class_location_item.html#a2700aaeb5d684ee2e4582855d5341937" title="Generates a new demand for location to be completed. " alt="" coords="232,5,435,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a21620dbdbc47b5ff57dfb4ee8c96d857"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::initHands </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; const Interface::Player &gt;&#160;</td>
          <td class="paramname"><em>Player</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a hand area for player to hold cards &amp; agents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Player,:</td><td>Player in game </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a265e6279eb81aa208cfdcbe5d88a54d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::initPlayerHandFor </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; Interface::Player &gt;&#160;</td>
          <td class="paramname"><em>player</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes player hand for a player. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player,:</td><td>Player in question </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Player exists </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Player now has a hand </dd></dl>

</div>
</div>
<a class="anchor" id="aa9cca2fe921183eca8d44d7d57cd2c11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::onActionDeclared </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; Interface::ActionInterface &gt;&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmap_item.html">mapItem</a> *&#160;</td>
          <td class="paramname"><em>declaringMapItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>resetting</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recieved when a <a class="el" href="classmap_item.html">mapItem</a> (Agent or a <a class="el" href="class_card_item.html">CardItem</a>) is dragged and dropped and the item has recognized a valid action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action,:</td><td>Action performed </td></tr>
    <tr><td class="paramname">declaringMapItem,:</td><td>Targeted MapItem. If an agent card, scene will wait for an action card to be dragged or the action to be cancelled. </td></tr>
    <tr><td class="paramname">resetting,:</td><td>Check if action will be cancelled </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Player has MapItems to move around and perform actions upon </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Dropped item is a carditem on a waiting agent, the card is discard and logic is informed with actionDeclared signal or action is cancelled </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene_aa9cca2fe921183eca8d44d7d57cd2c11_cgraph.png" border="0" usemap="#class_game_scene_aa9cca2fe921183eca8d44d7d57cd2c11_cgraph" alt=""/></div>
<map name="class_game_scene_aa9cca2fe921183eca8d44d7d57cd2c11_cgraph" id="class_game_scene_aa9cca2fe921183eca8d44d7d57cd2c11_cgraph">
<area shape="rect" id="node2" href="classmap_item.html#ac34ad651be6151f9ca9cc6310d1f6462" title="returns the type of MapItem as a string. Can be at least a location, agent or an actionCard. " alt="" coords="283,5,416,32"/><area shape="rect" id="node3" href="class_card_item.html#a25b9a7fc1a81e13fbe8555e2195d305b" title="getCard " alt="" coords="279,56,420,83"/><area shape="rect" id="node4" href="classmap_item.html#a4186737ffce9680d0ba0bc0130533f26" title="mapitem is moved to homeCoordinatesOnScene_ in time milliseconds " alt="" coords="277,107,421,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene_aa9cca2fe921183eca8d44d7d57cd2c11_icgraph.png" border="0" usemap="#class_game_scene_aa9cca2fe921183eca8d44d7d57cd2c11_icgraph" alt=""/></div>
<map name="class_game_scene_aa9cca2fe921183eca8d44d7d57cd2c11_icgraph" id="class_game_scene_aa9cca2fe921183eca8d44d7d57cd2c11_icgraph">
<area shape="rect" id="node2" href="class_game_scene.html#a05c9687d7d9d4ca8a9b3c21eea841393" title="Adds an action card to players hand. " alt="" coords="277,5,480,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6c75de62e9b64bafac9a587375a6ac4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::onPlayerChanged </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; const Interface::Player &gt;&#160;</td>
          <td class="paramname"><em>actingPlayer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When the player has been changed, makes every item that does not belong to the player undraggable. Signaled by Game class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actingPlayer,:</td><td>Previous turn's player </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Player has ended his turn </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Other players hands are moved away and shrunk from current players view </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene_a6c75de62e9b64bafac9a587375a6ac4f_cgraph.png" border="0" usemap="#class_game_scene_a6c75de62e9b64bafac9a587375a6ac4f_cgraph" alt=""/></div>
<map name="class_game_scene_a6c75de62e9b64bafac9a587375a6ac4f_cgraph" id="class_game_scene_a6c75de62e9b64bafac9a587375a6ac4f_cgraph">
<area shape="rect" id="node2" href="classagent_item.html#a0b703d94f5e5d039a3563907d75054ed" title="rearrange " alt="" coords="277,5,437,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8aca0638d635fbc852852a143e0f4065"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::shared_ptr&lt; const Interface::Player &gt;, <a class="el" href="class_player_hand.html">PlayerHand</a> * &gt; GameScene::playerHands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all players' hands. </p>
<dl class="section return"><dt>Returns</dt><dd>Map of player hands </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene_a8aca0638d635fbc852852a143e0f4065_icgraph.png" border="0" usemap="#class_game_scene_a8aca0638d635fbc852852a143e0f4065_icgraph" alt=""/></div>
<map name="class_game_scene_a8aca0638d635fbc852852a143e0f4065_icgraph" id="class_game_scene_a8aca0638d635fbc852852a143e0f4065_icgraph">
<area shape="rect" id="node2" href="class_interface_1_1_ai_control.html#ab4222b9a49b5de92f222846b9bc1986d" title="AiControl a fairly smart AI control interface for robot players. " alt="" coords="246,5,394,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff91a4c8ac929067c540765db170bd36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::prepareForAction </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; Interface::ActionInterface &gt;&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmap_item.html">mapItem</a> *&#160;</td>
          <td class="paramname"><em>declaringMapItem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the declaring mapitem in a visible place, and draw arrows from its original position to its targeted mapitem The game will start waiting for the manual player to use an action card. Also sets up few mapitem variables which allow us to reset this ready-state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action,:</td><td>Action performed by player </td></tr>
    <tr><td class="paramname">declaringMapItem,:</td><td>MapItem player has targeted </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene_aff91a4c8ac929067c540765db170bd36_cgraph.png" border="0" usemap="#class_game_scene_aff91a4c8ac929067c540765db170bd36_cgraph" alt=""/></div>
<map name="class_game_scene_aff91a4c8ac929067c540765db170bd36_cgraph" id="class_game_scene_aff91a4c8ac929067c540765db170bd36_cgraph">
<area shape="rect" id="node2" href="classmap_item.html#ab8ed715abe71e4197937c57dbca8628c" title="sets home to somewhere else " alt="" coords="307,5,455,32"/><area shape="rect" id="node3" href="classmap_item.html#a4186737ffce9680d0ba0bc0130533f26" title="mapitem is moved to homeCoordinatesOnScene_ in time milliseconds " alt="" coords="309,56,453,83"/><area shape="rect" id="node4" href="classmap_item.html#a1b50fc0ce2d93062c677fd8bcda29ac2" title="setWaitingForAction " alt="" coords="272,107,491,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a68d471f7b7e1eed4e39182dcd4a1f6ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::resetAction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A declared action is forgotten and declaring MapItem is returned back to its home position. </p>
<dl class="section pre"><dt>Precondition</dt><dd>An action is perfomed </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Action is reversed and player is back in time before said action </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_game_scene_a68d471f7b7e1eed4e39182dcd4a1f6ab_cgraph.png" border="0" usemap="#class_game_scene_a68d471f7b7e1eed4e39182dcd4a1f6ab_cgraph" alt=""/></div>
<map name="class_game_scene_a68d471f7b7e1eed4e39182dcd4a1f6ab_cgraph" id="class_game_scene_a68d471f7b7e1eed4e39182dcd4a1f6ab_cgraph">
<area shape="rect" id="node2" href="classmap_item.html#a7fb148237b42f68d844f9318311b20bd" title="Re&#45;arrange all child items in its own layout. " alt="" coords="237,5,389,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a0a26f1f1cff77e2a1241f86c188d2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::resourceInfo </td>
          <td>(</td>
          <td class="paramtype">ResourceMap &amp;&#160;</td>
          <td class="paramname"><em>rmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ResourceMap &amp;&#160;</td>
          <td class="paramname"><em>dmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives information about resources in each location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rmap,:</td><td>Local collectable resources in each location </td></tr>
    <tr><td class="paramname">dmap,:</td><td>Initial demanded resource in each location </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aecf15f36605b407bb9b8e03fa8e9bb90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameScene::turnInfo </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; Interface::Player &gt; &amp;&#160;</td>
          <td class="paramname"><em>currentplayer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives information about turns. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentplayer,:</td><td>player in turn </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Student/<a class="el" href="gamescene_8hh_source.html">gamescene.hh</a></li>
<li>Student/gamescene.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 27 2021 20:45:51 for Susipalatsi by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
